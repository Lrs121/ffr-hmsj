#  Copyright 2019 Nicole Borrelli
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Key Item Location scripts
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

sara_event = """
    db 0x60 0x4 0x1 0xff
    jump .Label_1
    db 0x60 0x4 0x1 0xff
    jump_by_dir .Label_2_Up .Label_2_Right .Label_2_Right
    .Label_2_Up:
    db 0x26 0x4 0x3 0xff
    delay 30
    db 0x26 0x4 0x1 0xff
    delay 30
    jump .Label_4
    .Label_2_Right:
    db 0x26 0x4 0x1 0xff
    delay 30
    jump .Label_4
    .Label_4:
    db 0x15 0x8 0x1 0x3 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x3 0x3 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x26 0x4 0x1 0xff
    delay 30
    .Label_1:
    delay 10
    db 0x26 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    delay 10
    set_npc_frame 0x20 0x10
    delay 30
    set_npc_frame 0x20 0x0
    GIVE_SARA_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %sara_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x1 0x4 0xff 0xff
    db 0x60 0x4 0x0 0xff
    remove_trigger 0x13cb
    end_event
"""

king_event = """
    %garland_defeated 0x1

    db 0x60 0x4 0x0 0xff
    db 0x9 0x4 0x23 0x0
    db 0x1f 0x4 0x5 0x6
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x5 0x0
    db 0x9 0x4 0x14 0x0
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x5 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x78 0x0
    db 0x9 0x4 0x3c 0x0
    db 0x2b 0x4 0x0 0xff
    db 0x14 0x4 0x5 0x0
    db 0x16 0x4 0x0 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x15 0x8 0x1 0x1 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    set_flag %garland_defeated
    db 0x1b 0x8 0x3 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x23 0x0
    db 0x15 0x8 0x2 0x0 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x23 0x0
    db 0x21 0x4 0x20 0x1
    db 0x21 0x4 0x21 0x1
    db 0x21 0x4 0x22 0x1
    db 0x21 0x4 0x23 0x1
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x4
    db 0x1f 0x4 0x21 0x4
    db 0x1f 0x4 0x22 0x6
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x23 0x6
    db 0x9 0x4 0x3c 0x0
    db 0x20 0x4 0x6 0xff
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x6 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x23 0x0
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x23 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x1f 0x4 0x21 0x10
    db 0x1f 0x4 0x22 0x10
    db 0x1f 0x4 0x23 0x10
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x3c 0x0
    music 0x5 0x8
    db 0x1b 0x8 0x0 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x3c 0x0
    music 0x6 0xffff
    db 0x3 0xc 0x1 0x39 0x14 0x0 0x8 0x0 0x0 0x1 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x14 0x0 0x9 0x0 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x13 0x0 0xa 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x14 0x0 0xa 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x15 0x0 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x15 0x8 0x1 0x4 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x1b 0x8 0x1 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x28 0x0
    db 0x9 0x4 0x3c 0x0
    GIVE_KING_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %king_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x20 0x4 0x22 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x15 0x8 0x2 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x26 0x4 0x1 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x2 0x1f5c
    db 0x6a 0x8 0xff 0x7f 0xff 0xff 0xff 0xff
    db 0x6a 0x8 0xe 0x0 0x0 0xff 0xff 0xff
    db 0x6a 0x8 0x0 0x0 0x38 0xff 0xff 0xff
    end_event
"""

bikke_event = """
    db 0x60 0x4 0x0 0xff
    db 0x1c 0x4 0x8 0x1
    db 0x1c 0x4 0x9 0x1
    db 0x8 0x8 0x8 0xfc 0x4 0x0 0xff 0xff
    db 0x8 0x8 0x9 0xfc 0x4 0x0 0xff 0xff
    db 0x9 0x4 0x18 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x8 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x9 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x21 0x4 0x8 0x2
    db 0x21 0x4 0x9 0x3
    db 0x9 0x4 0x4 0x0
    db 0x2b 0x4 0x1 0xff
    db 0x1b 0x8 0x3 0x3 0xff 0xff 0x20 0xff
    set_repeat 0x3
    .Label_1:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0x14 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_1
    music 0x0 0xa6
    db 0x1f 0x4 0x8 0x8
    db 0x9 0x4 0x1 0x0
    set_repeat 0x3
    .Label_2:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0xa 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0xa 0x0
    repeat 0x1 .Label_2
    music 0x0 0xa6
    db 0x1f 0x4 0x9 0x8
    db 0x9 0x4 0x1 0x0
    set_repeat 0x6
    .Label_3:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0x3 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0x3 0x0
    repeat 0x1 .Label_3
    db 0x21 0x4 0x2 0x0
    db 0x14 0x4 0x8 0x0
    db 0x14 0x4 0x9 0x0
    db 0x9 0x4 0x3c 0x0
    GIVE_BIKKE_REWARD
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %bikke_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x26 0x4 0x1 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x2 0x1fc4
    npc_update 0x3 0x3
    npc_update 0x5 0x3
    npc_update 0x3 0x4
    npc_update 0x5 0x4
    npc_update 0x3 0x5
    npc_update 0x5 0x5
    npc_update 0x3 0x6
    npc_update 0x5 0x6
    npc_update 0x3 0x7
    npc_update 0x5 0x7
    end_event
"""

marsh_event = """
    check_flag %marsh_reward_flag jnz .Empty
    set_npc_frame 0xf 0x1   ; Change the chest to opened
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    delay 10
    set_npc_frame 0x20 0x10
    delay 30
    set_npc_frame 0x20 0x0
    GIVE_MARSH_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %marsh_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    jump .End
    .Empty:
    load_text top 0xf2
    show_dialog
    close_dialog wait
    .End:
    end_event
"""

astos_event = """
    db 0x12 0x8 0x0 0x1 0x1 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x15 0x8 0x1 0x0 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x60 0x4 0x0 0xff
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x8
    db 0x9 0x4 0x7 0x0
    db 0x1f 0x4 0x0 0x9
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x0 0x0
    db 0x9 0x4 0x1e 0x0
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x20 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x20 0x1 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x1 0xff 0x19 0x0 0xf 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x1 0xff 0x19 0x0 0xf 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x1 0xff 0x19 0x0 0xf 0x0 0xff 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x23 0x0
    set_repeat 0x2
    .Label_1:
    npc_update 0x2 0x0
    db 0x9 0x4 0x6 0x0
    npc_update 0x3 0x0
    db 0x9 0x4 0x6 0x0
    repeat 0x1 .Label_1
    set_repeat 0x4
    .Label_2:
    npc_update 0x2 0x0
    db 0x9 0x4 0x4 0x0
    npc_update 0x3 0x0
    db 0x9 0x4 0x4 0x0
    repeat 0x1 .Label_2
    set_repeat 0x6
    .Label_3:
    npc_update 0x2 0x0
    db 0x9 0x4 0x2 0x0
    npc_update 0x3 0x0
    db 0x9 0x4 0x2 0x0
    repeat 0x1 .Label_3
    npc_update 0x2 0x0
    db 0x13 0xc 0x48 0x7 0x88 0x1f 0x0 0xff 0x19 0x0 0xd 0x0
    npc_update 0x2 0x7
    db 0xaa 0x4 0x5 0x7
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x23 0x0
    db 0x9 0x4 0x23 0x0
    db 0x20 0x4 0x7 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x7 0x0 0xff 0xff
    db 0x2b 0x4 0x2 0xff
    db 0x14 0x4 0x7 0x0
    db 0x14 0x4 0x0 0x0
    db 0x16 0x4 0x0 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x1b 0x8 0x3 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x3c 0x0
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_ASTOS_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %astos_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x15 0x8 0x2 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x9 0x4 0xa 0x0
    end_event
"""

matoya_event = """
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    take_item 0x2
    GIVE_MATOYA_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %matoya_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x60 0x4 0x0 0xff
    set_npc_event 0x4 0x1fa4
    end_event
"""

elf_prince_event = """
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1 0x4 0xff 0xff
    jump_by_dir .Label_1_Up .Label_1_Right .Label_1_Left
    db 0x1f 0x4 0x20 0x21
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x0
    jump .Label_4
    .Label_1_Up:
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x2
    jump .Label_4
    .Label_1_Right:
    db 0x1f 0x4 0x20 0x23
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x4
    jump .Label_4
    .Label_1_Left:
    db 0x1f 0x4 0x20 0x1f
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x6
    .Label_4:
    db 0x9 0x4 0x14 0x0
    take_item 0x3
    db 0x60 0x4 0x0 0xff
    db 0x21 0x4 0x6 0x3
    db 0x9 0x4 0x14 0x0
    db 0x1b 0x8 0x2 0x14 0xff 0xff 0x20 0xff
    music 0x0 0x8d
    db 0x1b 0x8 0x3 0x14 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x7 0x0
    db 0x1f 0x4 0x7 0x8
    db 0x1f 0x4 0x7 0x8
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x7 0x0
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x7 0x8
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x7 0x0
    db 0x9 0x4 0x1e 0x0
    db 0x20 0x4 0x7 0xff
    db 0x21 0x4 0x7 0x2
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_ELF_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %elf_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x6 0x1f82
    db 0x21 0x4 0x7 0x0
    end_event
"""

locked_cornelia_event = """
    check_flag %locked_cornelia_reward_flag jnz .Empty
    set_npc_frame 0x9 0x1   ; Change the chest to opened
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    delay 10
    set_npc_frame 0x20 0x10
    delay 30
    set_npc_frame 0x20 0x0
    GIVE_LOCKED_CORNELIA_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %locked_cornelia_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    jump .End
    .Empty:
    load_text top 0xf2
    show_dialog
    close_dialog wait
    .End:
    end_event
"""

nerrik_event = """
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x1c 0x4 0x20 0x1
    music 0xe 0x85
    jump_by_dir .Label_1_Up .Label_1_Right .Label_1_Left
    .Label_1_Up:
    db 0x1f 0x4 0x20 0x2
    jump .Label_4
    .Label_1_Right:
    db 0x1f 0x4 0x20 0x4
    jump .Label_4
    .Label_1_Left:
    db 0x1f 0x4 0x20 0x6
    .Label_4:
    music 0x0 0x8e
    db 0x1 0x4 0xff 0xff
    db 0x23 0xc 0xff 0xb 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x10 0x0
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x2
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0xb 0x8
    db 0x1 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x60 0x4 0x0 0xff
    db 0x20 0x4 0xb 0xff
    db 0x1 0x4 0xff 0xff
    jump_by_dir .Label_5_Up .Label_5_Right .Label_5_Left
    .Label_5_Up:
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x6
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x2 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x5 0x3 0x0 0x0 0x0 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    jump .Label_8
    .Label_5_Right:
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x6 0x3 0x0 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    jump .Label_8
    .Label_5_Left:
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x3 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x6 0x3 0x0 0x0 0x0 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x3 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    .Label_8:
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x1c 0x4 0x21 0x1
    db 0x1c 0x4 0x22 0x1
    db 0x1c 0x4 0x23 0x1
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x1c 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0x32 0x0
    set_repeat 0x3
    .Label_9:
    db 0x1f 0x4 0xb 0x9
    db 0x9 0x4 0x12 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0x12 0x0
    repeat 0x1 .Label_9
    db 0x9 0x4 0x16 0x0
    db 0x1 0x4 0xff 0xff
    db 0x20 0x4 0xb 0xff
    db 0x9 0x4 0x2 0x0
    db 0xb 0xc 0x1 0x1 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x9 0x4 0x10 0x0
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x4
    db 0x20 0x4 0xb 0xff
    db 0x15 0x8 0x3 0x0 0x1 0x0 0x0 0x0
    db 0xb 0xc 0x4 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x2
    db 0x3b 0x4 0xff 0xff
    db 0x1 0x4 0xff 0xff
    db 0x1 0x4 0xff 0xff
    music 0x0 0x8e
    db 0x1 0x4 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x21 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x22 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x23 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x30 0x0
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0x9 0x4 0x8 0x0
    db 0x15 0x8 0xb 0x3 0x1 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x9 0x4 0x4 0x0
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0xb 0xff
    db 0xb 0xc 0x3 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0xb 0x6
    db 0x3b 0x4 0xff 0xff
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x20 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x14 0x0
    set_repeat 0x2
    .Label_10:
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_10
    set_repeat 0x4
    .Label_11:
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_11
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    set_repeat 0x3
    .Label_12:
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    music 0x0 0x77
    repeat 0x1 .Label_12
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    set_repeat 0x5
    .Label_13:
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    music 0x0 0x77
    repeat 0x1 .Label_13
    db 0x16 0x4 0x0 0xff
    music 0xd 0xffff
    music 0x4 0xc
    db 0x1b 0x8 0x5 0x6 0xff 0xff 0x20 0xff
    db 0x34 0x4 0xff 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x19 0x0 0x2c 0x0 0xff 0xff
    db 0x1c 0x4 0x20 0x1
    npc_update 0x3 0xb
    npc_update 0x5 0xb
    db 0x45 0x8 0xb 0x3 0x1b 0x0 0x2c 0x0
    db 0x9 0x4 0x4 0x0
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0xb 0xff
    db 0x15 0x8 0x1 0x0 0x2 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x9 0x0 0x0 0x0 0x0 0x0
    db 0xb 0xc 0x6 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0x38 0x0
    take_item 0x5
    GIVE_NERRICK_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %nerrick_text_id
    music 0x0 0x20          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x2
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0xc 0x0
    db 0x1f 0x4 0xb 0x8
    db 0x9 0x4 0x2 0x0
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xc 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xc 0x0
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x20 0x0
    db 0x9 0x4 0xa 0x0
    db 0x20 0x4 0xb 0xff
    db 0xb 0xc 0x7 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0xb 0x0
    db 0x9 0x4 0x18 0x0
    remove_trigger 0x1393
    db 0x14 0x4 0x0 0x1
    db 0x26 0x4 0x3 0xff
    db 0x16 0x4 0x1 0xff
    end_event
"""

vampire_event = """
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_VAMPIRE_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %vampire_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x1 0x4 0xff 0xff
    remove_trigger 0x13b7
    end_event
"""

sarda_event = """
    %fed_titan 0x0e

    check_flag %fed_titan jnz .Fed_Titan
    load_text top 0x47b
    show_dialog
    close_dialog wait
    jump .End

    .Fed_Titan:
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_SARDA_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %sarda_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x0 0x1f61
    .End:
    end_event
"""

lukahn_event = """
    db 0x60 0x4 0x1 0xff
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_LUKAHN_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %lukahn_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x60 0x4 0x0 0xff
    set_npc_event 0xc 0x1fe2
    db 0x1 0x4 0xff 0xff
    end_event
"""

levistone_event = """
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_ICE_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %ice_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    remove_trigger 0x139f
    end_event
"""

citadel_of_trials_chest_event = """
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_CITADEL_OF_TRIALS_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %citadel_of_trials_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x1 0x4 0xff 0xff
    remove_trigger 0x13aa
    end_event
"""

bahamuts_cave_event = """
    db 0x60 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x1 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x1 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x0 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x28 0x0
    db 0x9 0x4 0x3c 0x0
    db 0xb 0xc 0x1 0x2 0x0 0x0 0x0 0x0 0x20 0x1 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x1 0xff 0xe 0x0 0x7 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x1 0xff 0xe 0x0 0x7 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x1 0xff 0xe 0x0 0x7 0x0 0xff 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x23 0x0
    db 0x9 0x4 0x28 0x0
    db 0x21 0x4 0x2 0x1
    music 0x5 0x2
    db 0x9 0x4 0x3c 0x0
    db 0x15 0x8 0x1 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x1f 0x4 0x2 0x3
    music 0x0 0x88
    db 0x23 0xc 0xff 0x2 0xee 0xff 0xf3 0xff 0xb9 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x2 0x14 0x0 0xef 0xff 0xba 0x0 0x88 0x1
    db 0x9 0x4 0xa 0x0
    db 0x23 0xc 0xff 0x2 0xec 0xff 0xef 0xff 0xba 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x2 0x12 0x0 0xf3 0xff 0xb9 0x0 0x88 0x1
    db 0x9 0x4 0x32 0x0
    music 0x0 0x89
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xfc 0xff 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x80 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x7c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x1e 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x20 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x1c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x1e 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xa0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x9c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x1e 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xd0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xcc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x16 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x1b 0x8 0x6 0x24 0x0 0x71 0x18 0xff
    db 0x50 0x8 0x8 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x60 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x5c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x18 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x21 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x50 0x8 0x6 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xc0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xbc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x12 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x22 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x50 0x8 0xc 0x0 0x2 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x70 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x6c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x14 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x23 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xfc 0xff 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x50 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x4c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x14 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xa0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x9c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0x14 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x40 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x3c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x90 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x8c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xe0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xdc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x80 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x7c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xd0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xcc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x30 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x2c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x3 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xc0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xbc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x60 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x5c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x10 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x40 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x3c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x90 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x8c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xe0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xdc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x80 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x7c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xd0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xcc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x30 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x2c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xc0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xbc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x60 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x5c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x10 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xfc 0xff 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x50 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x4c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xa0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x9c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x80 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x7c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xd0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xcc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x30 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x2c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xc0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xbc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x60 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x5c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x10 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xfc 0xff 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x50 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x4c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xa0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x9c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    music 0x0 0x12f
    db 0x1b 0x8 0x6 0x3 0xff 0xff 0x20 0xff
    db 0x23 0xc 0xff 0x20 0x80 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x7c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xd0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xcc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x30 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x2c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0xc0 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xbc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x60 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x5c 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0x10 0x0 0x0 0x0 0xb9 0x0 0x80 0x2
    db 0x23 0xc 0xff 0x20 0xc 0x0 0x0 0x0 0xba 0x0 0x80 0x2
    db 0x50 0x8 0xa 0x0 0x4 0xff 0xff 0xff
    db 0x9 0x4 0xf 0x0
    take_item 0xc
    GIVE_BAHAMUT_REWARD
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x21 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x22 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x23 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x1b 0x8 0x7 0x2 0xff 0xff 0x8 0xff
    db 0x50 0x8 0x10 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x21 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x22 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x23 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x1b 0x8 0x7 0x6 0xff 0x8e 0x20 0xff
    db 0x50 0x8 0x32 0x0 0x4 0xff 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x21 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x22 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x23 0x0 0x0 0x0 0x0 0xbb 0x0 0x88 0x1
    db 0x1b 0x8 0x3 0x8 0x0 0x71 0x20 0xff
    db 0x1f 0x4 0x2 0x0
    db 0x9 0x4 0x1e 0x0
    db 0x21 0x4 0x2 0x0
    db 0x20 0x4 0x2 0xff
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0x21 0x6
    db 0x1f 0x4 0x22 0x6
    db 0x1f 0x4 0x23 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x4
    db 0x1f 0x4 0x21 0x4
    db 0x1f 0x4 0x22 0x4
    db 0x1f 0x4 0x23 0x4
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0x21 0x6
    db 0x1f 0x4 0x22 0x6
    db 0x1f 0x4 0x23 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x4
    db 0x1f 0x4 0x21 0x4
    db 0x1f 0x4 0x22 0x4
    db 0x1f 0x4 0x23 0x4
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0x21 0x6
    db 0x1f 0x4 0x22 0x6
    db 0x1f 0x4 0x23 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x20 0x0
    db 0x1f 0x4 0x20 0x1a
    db 0x1f 0x4 0x21 0x1a
    db 0x1f 0x4 0x22 0x1a
    db 0x1f 0x4 0x23 0x1a
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %bahamut_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x28 0x0
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x15 0x8 0x1 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x2 0x1f68
    end_event
"""

waterfall_robot_event = """
    db 0x60 0x4 0x1 0xff
    db 0x26 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_WATERFALL_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %waterfall_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x1f 0x4 0x20 0x0
    db 0x13 0x8 0x4d 0xd 0x0 0x0 0x0 0x0
    npc_update 0x4 0xd
    db 0x1c 0x4 0xd 0x1
    npc_update 0x2 0xd
    db 0x13 0x8 0x2b 0xe 0x0 0x0 0x0 0x0
    db 0x1f 0x4 0xe 0x0
    npc_update 0x2 0x0
    db 0x1f 0x4 0xe 0x0
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0xe 0x1
    db 0x9 0x4 0x14 0x0
    set_repeat 0x5
    .Label_1:
    db 0x1f 0x4 0xe 0x0
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xe 0x1
    db 0x9 0x4 0x8 0x0
    repeat 0x1 .Label_1
    db 0x1f 0x4 0xe 0x0
    npc_update 0x3 0xd
    music 0x0 0xd9
    db 0x9 0x4 0x3c 0x0
    npc_update 0x2 0xd
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x4d 0x4 0xff 0xff
    db 0x9 0x4 0x28 0x0
    db 0x14 0x4 0xd 0x0
    db 0x14 0x4 0xe 0x0
    npc_update 0x3 0x0
    set_npc_event 0x0 0x200f
    db 0x60 0x4 0x0 0xff
    end_event
"""

fairy_event = """
    db 0x13 0xc 0x4a 0xf 0x0 0x0 0x0 0xff 0x33 0x0 0x11 0x0
    npc_update 0x4 0xf
    db 0x1c 0x4 0xf 0x1
    db 0x1 0x4 0xff 0xff
    npc_update 0x2 0xb
    music 0x0 0x95
    set_repeat 0x42
    .Label_1:
    db 0x18 0x8 0xf 0x1 0xff 0xff 0xff 0xff
    db 0x9 0x4 0x2 0x0
    repeat 0x1 .Label_1
    db 0x9 0x4 0x1e 0x0
    db 0x18 0x8 0xf 0x0 0x1 0x0 0xff 0xff
    db 0x9 0x4 0x1e 0x0
    db 0x18 0x8 0xf 0x0 0xfe 0xff 0xff 0xff
    db 0x9 0x4 0xf 0x0
    db 0x18 0x8 0xf 0x0 0x1 0x0 0xff 0xff
    set_repeat 0xf
    .Label_2:
    db 0x18 0x8 0xf 0x1 0x1 0x0 0xff 0xff
    db 0x9 0x4 0x3 0x0
    repeat 0x1 .Label_2
    set_repeat 0xa
    .Label_3:
    db 0x18 0x8 0xf 0x1 0x1 0x0 0xff 0xff
    db 0x9 0x4 0x2 0x0
    repeat 0x1 .Label_3
    set_repeat 0x10
    .Label_4:
    db 0x18 0x8 0xf 0x1 0x1 0x0 0xff 0xff
    db 0x9 0x4 0x1 0x0
    repeat 0x1 .Label_4
    npc_update 0x2 0xf
    db 0x13 0xc 0xc6 0x10 0x0 0x0 0x0 0xff 0x33 0x0 0xf 0x0
    npc_update 0x4 0x10
    db 0x1c 0x4 0x10 0x1
    db 0x1 0x4 0xff 0xff
    db 0x9 0x4 0x12 0x0
    db 0x14 0x4 0x10 0x0
    db 0x9 0x4 0x5a 0x0
    npc_update 0x3 0xf
    db 0x1 0x4 0xff 0xff
    music 0x0 0x96
    db 0x13 0xc 0xc6 0x10 0x0 0x0 0x0 0xff 0x33 0x0 0xf 0x0
    npc_update 0x4 0x10
    db 0x1c 0x4 0x10 0x1
    db 0x1 0x4 0xff 0xff
    set_repeat 0x12
    .Label_5:
    db 0x18 0x8 0xf 0x1 0xff 0xff 0xff 0xff
    db 0x9 0x4 0x1 0x0
    repeat 0x1 .Label_5
    db 0x14 0x4 0x10 0x0
    set_repeat 0xc
    .Label_6:
    db 0x18 0x8 0xf 0x1 0xff 0xff 0xff 0xff
    db 0x9 0x4 0x2 0x0
    repeat 0x1 .Label_6
    set_repeat 0xd
    .Label_7:
    db 0x18 0x8 0xf 0x1 0xff 0xff 0xff 0xff
    db 0x9 0x4 0x3 0x0
    repeat 0x1 .Label_7
    db 0x9 0x4 0x23 0x0
    set_repeat 0x40
    .Label_8:
    db 0x18 0x8 0xf 0x1 0x1 0x0 0xff 0xff
    db 0x9 0x4 0x2 0x0
    repeat 0x1 .Label_8
    db 0x14 0x4 0xf 0x0
    npc_update 0x3 0xb
    npc_update 0x5 0xb
    db 0x9 0x4 0x1e 0x0
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_FAIRY_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %fairy_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x26 0x4 0x1 0xff
    set_npc_event 0xb 0x1ff4
    end_event
"""

slab_chest_event = """
    check_flag %mermaids_reward_flag jnz .Empty
    set_npc_frame 0xa 0x1   ; Change the chest to opened
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_MERMAIDS_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %mermaids_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x1 0x4 0xff 0xff
    jump .End
    .Empty:
    load_text top 0xf2
    show_dialog
    close_dialog wait
    .End:
    end_event
"""

dr_unne_event = """
    db 0x60 0x4 0x1 0xff
    db 0x9 0x4 0x32 0x0
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    jump_by_dir .Label_1_Up .Label_1_Right .Label_1_Left
    db 0x1f 0x4 0x20 0x21
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x0
    jump .Label_4
    .Label_1_Up:
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x2
    jump .Label_4
    .Label_1_Right:
    db 0x1f 0x4 0x20 0x23
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x4
    jump .Label_4
    .Label_1_Left:
    db 0x1f 0x4 0x20 0x1f
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x6
    .Label_4:
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xfe 0x5 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xfe 0x5 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x60 0x4 0x0 0xff
    db 0x1f 0x4 0x0 0x0
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x0 0x1
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x0 0x4
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x0 0x5
    db 0x9 0x4 0x28 0x0
    db 0x60 0x4 0x1 0xff
    db 0x60 0x4 0x0 0xff
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x0 0x2
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x0 0x3
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x0 0x6
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x0 0x7
    db 0x9 0x4 0x28 0x0
    jump_by_dir .Label_5_Up .Label_5_Right .Label_5_Left
    db 0x1f 0x4 0x0 0x2
    jump .Label_8
    .Label_5_Up:
    db 0x1f 0x4 0x0 0x0
    jump .Label_8
    .Label_5_Right:
    db 0x1f 0x4 0x0 0x6
    jump .Label_8
    .Label_5_Left:
    db 0x1f 0x4 0x0 0x4
    .Label_8:
    db 0x60 0x4 0x1 0xff
    db 0x9 0x4 0x8 0x0
    jump_by_dir .Label_9_Up .Label_9_Right .Label_9_Left
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x21
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0x14 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x21
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x20 0x21
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    jump .Label_12
    .Label_9_Up:
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x2
    db 0x9 0x4 0x14 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x2
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x2
    jump .Label_12
    .Label_9_Right:
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x23
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x4
    db 0x9 0x4 0x14 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x23
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x4
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x20 0x23
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x4
    jump .Label_12
    .Label_9_Left:
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x1f
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x9 0x4 0x14 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x9 0x4 0x23 0x0
    db 0x8 0x8 0x0 0xff 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x1f
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x9 0x4 0x14 0x0
    db 0x1f 0x4 0x20 0x1f
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x6
    .Label_12:
    db 0x9 0x4 0x28 0x0
    take_item 0x7
    GIVE_DR_UNNE_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %dr_unne_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0x28 0x0
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x60 0x4 0x0 0xff
    db 0x20 0x4 0x0 0xff
    set_npc_event 0x0 0x1fb3
    end_event
"""

lefein_event = """
    db 0x60 0x4 0x1 0xff
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_LEFIEN_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %lefien_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x60 0x4 0x0 0xff
    set_npc_event 0xb 0x1ff0
    end_event
"""

sky2_adamantite_event = """
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_SKY2_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %sky2_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    db 0x1 0x4 0xff 0xff
    remove_trigger 0x138d
    end_event
"""

smyth_event = """
    db 0x60 0x4 0x0 0xff
    db 0x13 0xc 0x4c 0xd 0x0 0x0 0x0 0xff 0x12 0x0 0x7 0x0
    take_item 0x6
    npc_update 0x4 0xd
    db 0x1c 0x4 0xd 0x1
    npc_update 0x2 0xd
    music 0x0 0x8e
    db 0x1 0x4 0xff 0xff
    db 0x23 0xc 0xff 0x4 0x6 0x0 0xf2 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x32 0x0
    jump_by_dir .Label_1_Up .Label_1_Right .Label_1_Right
    .Label_1_Up:
    db 0x26 0x4 0x3 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1f 0x4 0x20 0x6
    jump .Label_3
    .Label_1_Right:
    db 0x15 0x8 0x1 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x0 0x3 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    .Label_3:
    db 0x1f 0x4 0x20 0x1f
    db 0x13 0xc 0x59 0xc 0x0 0x0 0x0 0xff 0x11 0x0 0x7 0x0
    npc_update 0x4 0xc
    db 0x1c 0x4 0xc 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x9 0x4 0x14 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x1 0x2 0x2 0x0 0x0 0x0 0x20 0x1 0xff 0xff
    db 0x15 0x8 0x1 0x0 0x2 0x0 0x0 0x0
    db 0x1f 0x4 0x4 0x6
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x4 0x4
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x4 0x6
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x4 0x4
    db 0x9 0x4 0x28 0x0
    db 0x20 0x4 0x4 0xff
    db 0x1 0x4 0xff 0xff
    db 0x20 0x4 0x4 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x4 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0x4 0x6
    db 0x21 0x4 0x4 0x0
    db 0x8 0x8 0x4 0xff 0x10 0x0 0xff 0xff
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x4 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x4 0x2
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x4 0x4
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x4 0x0
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0x4 0x4
    npc_update 0x3 0xd
    set_repeat 0x3
    .Label_4:
    db 0x1f 0x4 0x4 0x8
    db 0x1f 0x4 0xd 0x0
    db 0x9 0x4 0x28 0x0
    music 0x0 0x9c
    db 0x1f 0x4 0x4 0x9
    db 0x1f 0x4 0xd 0x1
    db 0x9 0x4 0x28 0x0
    repeat 0x1 .Label_4
    db 0x14 0x4 0xc 0x0
    db 0x13 0xc 0x5a 0xe 0x0 0x0 0x0 0xff 0x11 0x0 0x7 0x0
    db 0x1c 0x4 0xe 0x1
    set_repeat 0x2
    .Label_5:
    db 0x1f 0x4 0x4 0x8
    db 0x1f 0x4 0xd 0x0
    db 0x9 0x4 0x28 0x0
    music 0x0 0x9c
    db 0x1f 0x4 0x4 0x9
    db 0x1f 0x4 0xd 0x1
    db 0x9 0x4 0x28 0x0
    repeat 0x1 .Label_5
    db 0x14 0x4 0xd 0x0
    db 0x1f 0x4 0x4 0x4
    db 0x20 0x4 0x4 0xff
    db 0xb 0xc 0x1 0x2 0x1 0x0 0x0 0x0 0x4 0x0 0xff 0xff
    db 0x9 0x4 0x1e 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x1 0x2 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0x15 0x8 0x1 0x0 0x3 0x0 0x0 0x0
    db 0x4 0x4 0xff 0xff
    db 0x21 0x4 0x4 0x0
    db 0x1f 0x4 0x20 0x1f
    db 0xb 0xc 0x1 0x1 0x2 0x0 0x0 0x0 0xe 0x1 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0xe 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    GIVE_SMYTH_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %smyth_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x4 0x1f90
    db 0x20 0x4 0x4 0xff
    end_event
"""

desert_event = """
    check_flag 0x14 jz .Label_1
    db 0x1b 0x8 0x0 0xa 0xff 0xff 0x20 0xff
    db 0x3 0xc 0x1 0x77 0x8 0x0 0x5 0x0 0x0 0x0 0xff 0xff
    call .Cutscene
    db 0x3 0xc 0x1 0x0 0xd4 0x0 0xea 0x0 0x0 0x0 0xff 0xff
    db 0x1b 0x8 0x1 0x8 0xff 0xff 0x20 0xff
    .Label_1:
    end_event

    .Cutscene:
    db 0x13 0xc 0x57 0xf 0x0 0x0 0x0 0xff 0x8 0x0 0x5 0x0
    db 0x1c 0x4 0xf 0x2
    npc_update 0x2 0xf
    npc_update 0x4 0xf
    db 0x12 0xc 0x0 0x0 0x3 0xff 0x8 0x0 0xb 0x0 0xff 0xff
    db 0x16 0x4 0x0 0xff
    delay 4
    db 0x1b 0x8 0x5 0xa 0xff 0xff 0x20 0xff
    move_npc 0x20 1 6 3
    db 0x4 0x4 0xff 0xff
    delay 4
    set_npc_frame 0x20 0x0
    delay 8
    db 0x12 0xc 0x1 0x0 0x3 0xff 0x8 0x0 0x5 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x3 0xff 0x8 0x0 0x5 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x3 0xff 0x8 0x0 0x5 0x0 0xff 0xff
    db 0x1c 0x4 0x21 0x1
    db 0x1c 0x4 0x22 0x1
    db 0x1c 0x4 0x23 0x1
    move_npc 0x21 2 1 3
    move_npc 0x22 3 1 3
    move_npc 0x23 0 1 3
    db 0x4 0x4 0xff 0xff
    move_npc 0x21 0 1 3
    move_npc 0x22 0 1 3
    move_npc 0x23 0 1 3
    db 0x4 0x4 0xff 0xff
    delay 4
    set_npc_frame 0x21 0x0
    set_npc_frame 0x22 0x0
    set_npc_frame 0x23 0x0
    set_npc_frame 0x20 0x10
    set_npc_frame 0x21 0x10
    set_npc_frame 0x22 0x10
    set_npc_frame 0x23 0x10
    delay 40
    set_npc_frame 0x20 0x0
    set_npc_frame 0x21 0x0
    set_npc_frame 0x22 0x0
    set_npc_frame 0x23 0x0
    music 0x5 0x8
    delay 60
    set_npc_frame 0x21 0x6
    set_npc_frame 0x22 0x4
    set_npc_frame 0x23 0x2
    set_npc_frame 0x20 0x21
    npc_update 0x3 0xf
    npc_update 0x5 0xf
    delay 20
    move_npc 0xf 0 1 1
    db 0x4 0x4 0xff 0xff
    set_repeat 0x3
    .Levistone_blink:    
    npc_update 0x2 0xf
    delay 10
    npc_update 0x3 0xf
    delay 10
    repeat 0x1 .Levistone_blink
    db 0x13 0xc %desert_reward_sprite 0xf 0x0 0x0 0x0 0xff 0x8 0x0 0x6 0x0    
    music 0x6 0xffff
    music 0x0 0xa1
#ifdef REMOVE
    db 0x1b 0x8 0x2 0x0 0xff 0xff 0x20 0xff
    db 0x1b 0x8 0x3 0x0 0xff 0xff 0x20 0xff
    delay 15
    db 0x1b 0x8 0x2 0x0 0xff 0xff 0x20 0xff
    db 0x1b 0x8 0x3 0x0 0xff 0xff 0x20 0xff
    music 0x9 0xffff
    delay 8
    db 0x1b 0x8 0x0 0x8 0xff 0xff 0x20 0xff
    db 0x14 0x4 0xf 0x0
    delay 8
    db 0x67 0x4 0x1 0xff
    set_npc_frame 0x20 0x0
    set_npc_frame 0x21 0x0
    set_npc_frame 0x22 0x0
    set_npc_frame 0x23 0x0
    db 0x1b 0x8 0x1 0x8 0xff 0xff 0x20 0xff
#endif
    delay 16
    set_npc_frame 0x20 0x21
    set_npc_frame 0x21 0x21
    set_npc_frame 0x22 0x21
    set_npc_frame 0x23 0x21
    delay 16
    GIVE_DESERT_REWARD
    load_text top %desert_text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x14 0x4 0xf 0x0     ; Remove the reward sprite
    delay 30
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    delay 4
    move_npc 0x21 1 1 3
    move_npc 0x22 1 1 3
    move_npc 0x23 1 1 3
    db 0x4 0x4 0xff 0xff
    move_npc 0x21 3 1 3
    move_npc 0x22 2 1 3
    move_npc 0x23 1 1 3
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x0 0x1
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x1 0xff
    delay 30
    music 0x4 0x8
    db 0x1b 0x8 0x0 0x8 0xff 0xff 0x20 0xff
    end_event
"""

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Map Events
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

world_map_init = """
    %airship_visible 0x15
    %have_chime 0x1f

    set_flag %airship_visible
    check_flag %desert_reward_flag jz .Label_2
    remove_trigger 0x138e
    .Label_2:
    check_flag %have_chime jnz .Label_3
    db 0x2f 0x8 0x0 0x0 0xff 0xb8 0x38 0x2
    .Label_3:
    npc_update 0x4 0x0
    npc_update 0x4 0x1
    npc_update 0x4 0x2
    npc_update 0x4 0x3
    npc_update 0x4 0x4
    npc_update 0x4 0x5
    end_event
"""

cornelia_map_init = """
    remove_all 0x138c
    end_event
"""

cornelia_castle_1f_event = """
    %nitro_chest_npc 0x9
    remove_all 0x1392                                       ; Remove triggers for the bridge building scene.
    db 0x18 0x8 %nitro_chest_npc 0x1 0x3 0x0 0xff 0xff      ; Position the 'nitro' chest properly.
    check_flag %locked_cornelia_reward_flag jz .Nitro_Chest_Closed
    set_npc_frame 0x9 0x1                                   ; Show the nitro chest as opened.
    .Nitro_Chest_Closed:
    check_flag 0x9 jz .No_Mystic_Key
    remove_all 0x1f4a                                       ; Remove key locks.
    .No_Mystic_Key:
    end_event
"""

cornelia_castle_2f_init = """
    remove_all 0x138c
    db 0x1f 0x4 0x2 0x0
    check_flag 0x1 jnz .Label_3
    remove_trigger 0x1f5d
    jump .Label_4
    .Label_3:
    check_flag %sara_reward_flag jnz .Label_4
    set_npc_event 0x3 0x13a7
    db 0x2f 0x8 0xcb 0x13 0xff 0x14 0xa 0x8
    .Label_4:
    end_event
"""

chaos_shrine_init = """
    check_flag 0x1 jz .Label_3
    remove_trigger 0x138b
    remove_trigger 0x138b
    check_flag 0x9 jz .Label_2
    remove_trigger 0x1f4a
    remove_trigger 0x1f4a
    jump .Label_2
    .Label_3:
    db 0x2f 0x8 0x0 0x0 0xff 0x25 0x1c 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0x25 0x1d 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0x27 0x1c 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0x27 0x1d 0x8
    .Label_2:
    check_flag 0x24 jz .Label_4
    remove_trigger 0x1f4c
    jump .Label_5
    .Label_4:
    check_flag 0x11 jz .Label_5
    check_flag 0x13 jz .Label_5
    check_flag 0x1d jz .Label_5
    check_flag 0x22 jz .Label_5
    set_npc_event 0x7 0x13a0
    db 0x2f 0x8 0x0 0x0 0xff 0x25 0x1c 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0x27 0x1c 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0x26 0x1d 0x8
    .Label_5:
    end_event
"""

pravoka_init = """
    check_flag %bikke_reward_flag jz .Label_1
    remove_all 0x1fca
    jump .Label_2
    .Label_1:
    set_npc_event 0x2 0x13b5
    npc_update 0x2 0x3
    npc_update 0x4 0x3
    npc_update 0x2 0x4
    npc_update 0x4 0x4
    npc_update 0x2 0x5
    npc_update 0x4 0x5
    npc_update 0x2 0x6
    npc_update 0x4 0x6
    npc_update 0x2 0x7
    npc_update 0x4 0x7
    db 0x2f 0x8 0x0 0x0 0xff 0xc 0xc 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0xe 0xc 0x8
    .Label_2:
    end_event
"""

marsh_cave_b3_init = """
    db 0x18 0x8 0xf 0x1 0x3 0x0 0xff 0xff
    check_flag %marsh_reward_flag jz .Label_1
    set_npc_frame 0xf 0x1
    .Label_1:
    check_flag 0x9 jz .Label_2
    remove_all 0x1f4a
    .Label_2:
    end_event
"""

nw_keep_init = """
    db 0x1f 0x4 0x0 0x0
    check_flag 0x9 jz .Label_1
    remove_trigger 0x1f4a
    .Label_1:
    check_flag %astos_reward_flag jz .Label_2
    remove_trigger 0x1f86
    remove_trigger 0x1f88
    jump .Label_3
    .Label_2:
    check_flag 0x6 jz .Label_4
    set_npc_event 0x0 0x1390
    remove_trigger 0x1f88
    jump .Label_3
    .Label_4:
    remove_trigger 0x1f88
    .Label_3:
    end_event
"""

matoyas_cave_init = """
    check_flag %matoya_reward_flag jnz .Label_1
    check_flag 0x7 jz .Label_1
    set_npc_event 0x4 0x1391
    .Label_1:
    remove_trigger 0x13a9
    end_event
"""

elven_castle_init = """
    %have_jolt_tonic 0x8
    %have_mystic_key 0x9
    
    check_flag %have_mystic_key jz .Label_1
    db 0x45 0x8 0x7 0x0 0x11 0x0 0xf 0x0
    remove_all 0x1f4a
    .Label_1:
    check_flag %elf_reward_flag jnz .Label_2 
    check_flag %have_jolt_tonic jz .Label_2
    set_npc_event 0x6 0x139a
    .Label_2:
    end_event
"""

mt_duergar_init = """
    %flag_have_mystic_key 0x09
    %flag_have_nitro 0x0a
    %flag_have_adamantite 0x21

    check_flag %nerrick_reward_flag jnz .Label_1
    music 0x0 0x85
    db 0x2f 0x8 0x0 0x0 0xff 0x16 0x2a 0x8
    jump .Label_2
    .Label_1:
    check_flag %nerrick_reward_flag jz .Label_2
    npc_update 0x2 0xb
    npc_update 0x4 0xb
    .Label_2:
    check_flag %flag_have_nitro jz .Label_3
    set_npc_event 0xb 0x1393
    .Label_3:
    check_flag %flag_have_mystic_key jz .Label_4
    remove_trigger 0x1f4a
    .Label_4:
    check_flag %smyth_reward_flag jz .Label_5
    jump .Label_6
    .Label_5:
    check_flag %flag_have_adamantite jz .Label_6
    set_npc_event 0x4 0x139d
    .Label_6:
    end_event
"""

earth_b3_init = """
    db 0x18 0x8 0xe 0x1 0x2 0x0 0xff 0xff
    check_flag %vampire_reward_flag jz .Label_1
    remove_all 0x13b7
    .Label_1:
    check_flag 0xc jz .Label_2
    remove_trigger 0x13bc
    .Label_2:
    check_flag 0x10 jz .Label_3
    remove_all 0x139c
    .Label_3:
    end_event
"""

sages_cave_init = """
    check_flag %sarda_reward_flag jnz .End
    set_npc_event 0x0 0x13b8

    .End:
    end_event
"""

crescent_lake_init = """
    %earth_crystal_lit 0x11
    %lukahn_npc_id 0xd

    check_flag %lukahn_reward_flag jnz .End
    check_flag %earth_crystal_lit jz .End
    set_npc_event %lukahn_npc_id 0x1394
    .End:
    end_event
"""

ice_b3_init = """
    check_flag %ice_reward_flag jz .Label_1
    remove_all 0x139f
    .Label_1:
    end_event
"""

citadel_of_trials_f1_init = """
    %can_enter_cot 0x16

    check_flag %can_enter_cot jz .End
    remove_all 0x13af
    .End:
    end_event
"""

citadel_of_trials_f3_init = """
    check_flag %citadel_of_trials_reward_flag jz .Label_1
    remove_all 0x13aa
    .Label_1:
    end_event
"""

bahamuts_cave_init = """
    db 0x18 0x8 0x2 0x1 0xf8 0xff 0xff 0xff
    check_flag %bahamut_reward_flag jnz .End
    check_flag 0x17 jz .End
    set_npc_event 0x2 0x1396
    .End:
    end_event
"""

waterfall_init = """
    check_flag %waterfall_reward_flag jnz .Label_1
    set_npc_event 0x0 0x13bd
    .Label_1:
    end_event
"""

gaia_init = """
    check_flag %fairy_reward_flag jnz .Label_1
    check_flag 0x19 jz .Label_2
    set_npc_event 0xb 0x138f
    .Label_1:
    remove_all 0x139e
    jump .Label_3
    .Label_2:
    npc_update 0x2 0xb
    .Label_3:
    end_event
"""

mermaid_floor_init = """
    db 0x18 0x8 0xa 0x1 0x3 0x0 0xff 0xff
    check_flag %mermaids_reward_flag jz .Label_1
    set_npc_frame 0xa 0x1
    .Label_1:
    end_event
"""

melmond_init = """
    db 0x1c 0x4 0x0 0x1
    check_flag %dr_unne_reward_flag jnz .End
    check_flag 0x1c jz .End
    set_npc_event 0x0 0x13a5
    .End:
    end_event
"""

lefein_init = """
    check_flag %lefien_reward_flag jnz .Label_1
    check_flag 0x1e jz .Label_1
    set_npc_event 0xb 0x1395
    .Label_1:
    end_event
"""

sky_f2_init = """
    check_flag %sky2_reward_flag jz .Label_1
    remove_trigger 0x138d
    .Label_1:
    end_event
"""

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Key Item Reward snippets
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

bridge_reward = """
%text_id 0x127
%reward_flag 0x03

#define GIVE_REWARD set_flag %reward_flag
"""

lute_reward = """
%text_id 0x10a
%reward_flag 0x04

#define GIVE_REWARD \\
    give_item 0x0 \\
    set_flag %reward_flag
"""

ship_reward = """
%text_id 0x224
%reward_flag 0x05

#define GIVE_REWARD set_flag %reward_flag
"""

crown_reward = """
%text_id 0x10b
%reward_flag 0x06

#define GIVE_REWARD \\
    give_item 0x01 \\
    set_flag %reward_flag
"""

crystal_reward = """
%text_id 0x1f3
%reward_flag 0x07

#define GIVE_REWARD \\
    give_item 0x02 \\
    set_flag %reward_flag
"""

jolt_tonic_reward = """
%text_id 0x216
%reward_flag 0x08

#define GIVE_REWARD \\
    give_item 0x03 \\
    set_flag %reward_flag
"""

mystic_key_reward = """
%text_id 0x154
%reward_flag 0x09

#define GIVE_REWARD \\
    give_item 0x04 \\
    set_flag %reward_flag \\
    remove_all 0x1f4a               ; Unlock all Mystic Key locked doors on the map
"""

nitro_powder_reward = """
%text_id 0x128
%reward_flag 0x0A

#define GIVE_REWARD \\
    give_item 0x05 \\
    set_flag %reward_flag
"""

canal_reward = """
%text_id 0x1e8
%reward_flag 0x0B

#define GIVE_REWARD set_flag %reward_flag
"""

star_ruby_reward = """
%text_id 0x142
%reward_flag 0x0D

#define GIVE_REWARD \\
    give_item 0x08 \\
    set_flag %reward_flag
"""

rod_reward = """
%text_id 0x21a
%reward_flag 0x0F

#define GIVE_REWARD \\
    give_item 0x09 \\
    set_flag %reward_flag
"""

canoe_reward = """
%text_id 0x1b1
%reward_flag 0x12

#define GIVE_REWARD \\
    give_item 0x10 \\
    set_flag %reward_flag
"""

levistone_reward = """
%text_id 0x10c
%reward_flag 0x14

#define GIVE_REWARD \\
    give_item 0x0a \\
    set_flag %reward_flag
"""

rats_tail_reward = """
%text_id 0x10d
%reward_flag 0x17

#define GIVE_REWARD \\
    give_item 0x0c \\
    set_flag %reward_flag
"""

promotion_reward = """
%text_id 0x1d2
%reward_flag 0x18

#define GIVE_REWARD \\
    set_flag %reward_flag \\
    db 0x3d 0x4 0xff 0xff       ; Actually promotes the party. 
"""

bottle_reward = """
%text_id 0x1bf
%reward_flag 0x19

#define GIVE_REWARD \\
    give_item 0x0e \\
    set_flag %reward_flag
"""

oxyale_reward = """
%text_id 0x1c0
%reward_flag 0x1a

#define GIVE_REWARD \\
    give_item 0x0f \\
    set_flag %reward_flag
"""

rosetta_stone_reward = """
%text_id 0x10e
%reward_flag 0x1c

#define GIVE_REWARD \\
    give_item 0x07 \\
    set_flag %reward_flag
"""

lufienish_reward = """
%text_id 0x235
%reward_flag 0x1e

#define GIVE_REWARD set_flag %reward_flag 
"""

chime_reward = """
%text_id 0x240
%reward_flag 0x1f

#define GIVE_REWARD \\
    give_item 0x0b \\
    set_flag %reward_flag
"""

warp_cube_reward = """
%text_id 0x241
%reward_flag 0x20

#define GIVE_REWARD \\
    give_item 0x0d \\
    set_flag %reward_flag
"""

adamantite_reward = """
%text_id 0x10f
%reward_flag 0x21

#define GIVE_REWARD \\
    give_item 0x06 \\
    set_flag %reward_flag
"""

excalibur_reward = """
%text_id 0x1ed
%reward_flag 0x23

#define GIVE_REWARD \\
    give_item 0x11 \\
    set_flag %reward_flag
"""

airship_reward = """
%text_id 0x270
%reward_flag 0x15

#define GIVE_REWARD set_flag %reward_flag 
"""

gear_reward = """
%text_id 0x47c
%reward_flag 0x28

#define GIVE_REWARD \\
    give_item_ex 0x1 0x8 \\
    set_flag %reward_flag
"""

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Updates for other events
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

better_earth_plate = """
    %earth_rod 0x9
    %earth_plate_broken 0x10
    
    check_item %earth_rod jz .No_Earth_Rod
    db 0x26 0x4 0x1 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1 0x4 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x1c
    db 0x9 0x4 0x3c 0x0
    music 0x0 0x8c
    db 0x1b 0x8 0x2 0xa 0xff 0xff 0x20 0xff
    db 0x1f 0x4 0x20 0x2
    npc_update 0x2 0xe
    npc_update 0x4 0xe
    db 0x1b 0x8 0x3 0xa 0xff 0xff 0x20 0xff
    set_flag %earth_plate_broken
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    jump .Event_End

    .No_Earth_Rod:
    load_text top 0xff
    show_dialog
    close_dialog wait

    .Event_End:
    end_event
"""

citadel_guide = """
    %have_crown 0x6
    %can_undertake_trial 0x16
    
    check_flag %have_crown jnz .Allow_Entrance
    load_text top 0x47a
    show_dialog
    close_dialog wait
    jump .EndEvent
    
    .Allow_Entrance:
    load_text top 0x2d
    show_dialog
    close_dialog wait
    delay 30
    db 0xab 0x4 0x0 0x0
    db 0x14 0x4 0x0 0x0
    remove_trigger 0x13af
    delay 50
    jump_by_dir .Label_1_Up .Label_1_Right .Label_1_Left
    db 0x15 0x8 0x1 0x0 0x0 0x0 0x0 0x0
    jump .Label_4
    .Label_1_Up:
    db 0x15 0x8 0x1 0x0 0x1 0x0 0x0 0x0
    jump .Label_4
    .Label_1_Right:
    db 0x15 0x8 0x1 0x0 0x2 0x0 0x0 0x0
    jump .Label_4
    .Label_1_Left:
    db 0x15 0x8 0x1 0x0 0x3 0x0 0x0 0x0
    .Label_4:
    db 0x3b 0x4 0xff 0xff
    delay 60
    db 0x26 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    delay 10
    set_npc_frame 0x20 0x10
    delay 30
    set_npc_frame 0x20 0x0
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_flag %can_undertake_trial
    .EndEvent:
    end_event
"""
