#  Copyright 2019 Nicole Borrelli
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Key Item Location scripts
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

sara_event = """
    db 0x60 0x4 0x1 0xff
    jump .Label_1
    db 0x60 0x4 0x1 0xff
    db 0x26 0x4 0x1 0xff
    db 0x9 0x4 0x1e 0x0
    db 0x15 0x8 0x1 0x3 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x3 0x3 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x26 0x4 0x1 0xff
    db 0x9 0x4 0x1e 0x0
    .Label_1:
    db 0x9 0x4 0xa 0x0
    db 0x26 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    GIVE_REWARD
    db 0x1 0x4 0xff 0xff
    db 0x60 0x4 0x0 0xff
    set_npc_event 0x3 0x1f5d
    remove_trigger 0x13cb
    end_event
"""

king_event = """
    db 0x60 0x4 0x0 0xff
    db 0x9 0x4 0x23 0x0
    db 0x1f 0x4 0x5 0x6
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x5 0x0
    db 0x9 0x4 0x14 0x0
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x5 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x78 0x0
    db 0x9 0x4 0x3c 0x0
    db 0x2b 0x4 0x0 0xff
    db 0x14 0x4 0x5 0x0
    db 0x16 0x4 0x0 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x15 0x8 0x1 0x1 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    set_flag 0x1
    db 0x1b 0x8 0x3 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x23 0x0
    db 0x15 0x8 0x2 0x0 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x26 0x0 0x1d 0x0 0xff 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x9 0x4 0x23 0x0
    db 0x21 0x4 0x20 0x1
    db 0x21 0x4 0x21 0x1
    db 0x21 0x4 0x22 0x1
    db 0x21 0x4 0x23 0x1
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x4
    db 0x1f 0x4 0x21 0x4
    db 0x1f 0x4 0x22 0x6
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x23 0x6
    db 0x9 0x4 0x3c 0x0
    db 0x20 0x4 0x6 0xff
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x6 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x23 0x0
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x23 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x1f 0x4 0x21 0x10
    db 0x1f 0x4 0x22 0x10
    db 0x1f 0x4 0x23 0x10
    db 0x9 0x4 0x28 0x0
    db 0x1f 0x4 0x20 0x0
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x9 0x4 0x3c 0x0
    music 0x5 0x8
    db 0x1b 0x8 0x0 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x3c 0x0
    music 0x6 0xffff
    db 0x3 0xc 0x1 0x39 0x14 0x0 0x8 0x0 0x0 0x1 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x14 0x0 0x9 0x0 0xff 0xff
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x13 0x0 0xa 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x14 0x0 0xa 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x15 0x0 0xa 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x2
    db 0x1f 0x4 0x21 0x2
    db 0x1f 0x4 0x22 0x2
    db 0x1f 0x4 0x23 0x2
    db 0x15 0x8 0x1 0x4 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x1b 0x8 0x1 0x3 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x28 0x0
    db 0x9 0x4 0x3c 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x23 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x20 0x4 0x22 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x15 0x8 0x2 0x0 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    db 0x26 0x4 0x1 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x2 0x1f5c
    GIVE_REWARD
    db 0x6a 0x8 0xff 0x7f 0xff 0xff 0xff 0xff
    db 0x6a 0x8 0xe 0x0 0x0 0xff 0xff 0xff
    db 0x6a 0x8 0x0 0x0 0x38 0xff 0xff 0xff
    end_event
"""

bikke_event = """
    db 0x60 0x4 0x0 0xff
    db 0x1c 0x4 0x8 0x1
    db 0x1c 0x4 0x9 0x1
    db 0x8 0x8 0x8 0xfc 0x4 0x0 0xff 0xff
    db 0x8 0x8 0x9 0xfc 0x4 0x0 0xff 0xff
    db 0x9 0x4 0x18 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x8 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x9 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x21 0x4 0x8 0x2
    db 0x21 0x4 0x9 0x3
    db 0x9 0x4 0x4 0x0
    db 0x2b 0x4 0x1 0xff
    db 0x1b 0x8 0x3 0x3 0xff 0xff 0x20 0xff
    set_repeat 0x3
    .Label_1:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0x14 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_1
    music 0x0 0xa6
    db 0x1f 0x4 0x8 0x8
    db 0x9 0x4 0x1 0x0
    set_repeat 0x3
    .Label_2:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0xa 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0xa 0x0
    repeat 0x1 .Label_2
    music 0x0 0xa6
    db 0x1f 0x4 0x9 0x8
    db 0x9 0x4 0x1 0x0
    set_repeat 0x6
    .Label_3:
    npc_update 0x2 0x8
    npc_update 0x2 0x9
    db 0x9 0x4 0x3 0x0
    npc_update 0x3 0x8
    npc_update 0x3 0x9
    db 0x9 0x4 0x3 0x0
    repeat 0x1 .Label_3
    db 0x21 0x4 0x2 0x0
    db 0x14 0x4 0x8 0x0
    db 0x14 0x4 0x9 0x0
    db 0x9 0x4 0x3c 0x0
    GIVE_REWARD
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x26 0x4 0x1 0xff
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    set_npc_event 0x2 0x1fc4
    npc_update 0x3 0x3
    npc_update 0x5 0x3
    npc_update 0x3 0x4
    npc_update 0x5 0x4
    npc_update 0x3 0x5
    npc_update 0x5 0x5
    npc_update 0x3 0x6
    npc_update 0x5 0x6
    npc_update 0x3 0x7
    npc_update 0x5 0x7
    end_event
"""

marsh_event = """
    jump_chest_empty .Label_1
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    GIVE_REWARD
    remove_trigger 0x1398
    jump .Label_2
    .Label_1:
    load_text top 0xf2
    show_dialog
    close_dialog wait
    .Label_2:
    end_event
"""

locked_cornelia_event = """
    jump_chest_empty .Label_1
    db 0x26 0x4 0x0 0xff
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0x20 0x10
    db 0x9 0x4 0x1e 0x0
    db 0x1f 0x4 0x20 0x0
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x21          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x16 0x4 0x1 0xff
    db 0x14 0x4 0x0 0x1
    GIVE_REWARD
    remove_trigger 0x13ad
    jump .Label_2
    .Label_1:
    load_text top 0xf2
    show_dialog
    close_dialog wait
    .Label_2:
    end_event
"""

nerrik_event = """
    db 0x16 0x4 0x0 0xff
    db 0x12 0x8 0x0 0x1 0x2 0xff 0xff 0xff
    db 0x1c 0x4 0x20 0x1
    music 0xe 0x85
    db 0x42 0x10 0xff 0xff 0x24 0xbb 0x0 0x8 0x30 0xbb 0x0 0x8 0x3c 0xbb 0x0 0x8
    db 0x1f 0x4 0x20 0x2
    jump .Label_1
    db 0x1f 0x4 0x20 0x4
    jump .Label_1
    db 0x1f 0x4 0x20 0x6
    .Label_1:
    music 0x0 0x8e
    db 0x1 0x4 0xff 0xff
    db 0x23 0xc 0xff 0xb 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x3c 0x0
    db 0x9 0x4 0x10 0x0
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x2
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x6 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0xa 0x0
    db 0x1f 0x4 0xb 0x8
    db 0x1 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xa 0x0
    db 0x60 0x4 0x0 0xff
    db 0x20 0x4 0xb 0xff
    db 0x1 0x4 0xff 0xff
    db 0x42 0x10 0xff 0xff 0xdc 0xbb 0x0 0x8 0x60 0xbc 0x0 0x8 0xf4 0xbc 0x0 0x8
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x1f 0x4 0x20 0x6
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x2 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x5 0x3 0x0 0x0 0x0 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    jump .Label_2
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0xb 0xc 0x2 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x6 0x3 0x0 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    jump .Label_2
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x3 0x3 0x3 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x6 0x3 0x0 0x0 0x0 0x0
    db 0x20 0x4 0x20 0xff
    db 0xb 0xc 0x3 0x3 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    .Label_2:
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0x12 0xc 0x1 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x12 0xc 0x2 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x12 0xc 0x3 0x0 0x2 0xff 0x18 0x0 0x37 0x0 0xff 0xff
    db 0x1c 0x4 0x21 0x1
    db 0x1c 0x4 0x22 0x1
    db 0x1c 0x4 0x23 0x1
    db 0xb 0xc 0x1 0x3 0x1 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x21 0x0
    db 0x1f 0x4 0x22 0x0
    db 0x1f 0x4 0x23 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x1c 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0x32 0x0
    set_repeat 0x3
    .Label_3:
    db 0x1f 0x4 0xb 0x9
    db 0x9 0x4 0x12 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0x12 0x0
    repeat 0x1 .Label_3
    db 0x9 0x4 0x16 0x0
    db 0x1 0x4 0xff 0xff
    db 0x20 0x4 0xb 0xff
    db 0x9 0x4 0x2 0x0
    db 0xb 0xc 0x1 0x1 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x9 0x4 0x10 0x0
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x4
    db 0x20 0x4 0xb 0xff
    db 0x15 0x8 0x3 0x0 0x1 0x0 0x0 0x0
    db 0xb 0xc 0x4 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x2
    db 0x3b 0x4 0xff 0xff
    db 0x1 0x4 0xff 0xff
    db 0x1 0x4 0xff 0xff
    music 0x0 0x8e
    db 0x1 0x4 0xff 0xff
    db 0x23 0xc 0xff 0x20 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x21 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x22 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x23 0xc 0xff 0x23 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x30 0x0
    db 0x20 0x4 0x21 0xff
    db 0x20 0x4 0x22 0xff
    db 0x20 0x4 0x23 0xff
    db 0x9 0x4 0x8 0x0
    db 0x15 0x8 0xb 0x3 0x1 0x0 0x0 0x0
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0x21 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x3 0x0 0x0 0x0 0x22 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x2 0x0 0x0 0x0 0x23 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0x1 0x1
    db 0x14 0x4 0x2 0x1
    db 0x14 0x4 0x3 0x1
    db 0x9 0x4 0x4 0x0
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0xb 0xff
    db 0xb 0xc 0x3 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0xb 0x6
    db 0x3b 0x4 0xff 0xff
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    music 0x0 0x8e
    db 0x23 0xc 0xff 0x20 0x8 0x0 0xf0 0xff 0xb4 0x0 0x88 0x1
    db 0x9 0x4 0x14 0x0
    set_repeat 0x2
    .Label_4:
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_4
    set_repeat 0x4
    .Label_5:
    music 0x0 0x77
    db 0x9 0x4 0x14 0x0
    repeat 0x1 .Label_5
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    set_repeat 0x3
    .Label_6:
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    music 0x0 0x77
    repeat 0x1 .Label_6
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x3 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    set_repeat 0x5
    .Label_7:
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x9 0x4 0x2 0x0
    music 0x0 0x77
    repeat 0x1 .Label_7
    db 0x1b 0x8 0x4 0xa 0xff 0xff 0x20 0xff ; Fade out screen
    music 0x5 0x10
    set_repeat 0xa
    .Label_8:
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    music 0x0 0x77
    repeat 0x1 .Label_8
    db 0x3f 0x4 0xff 0xff
    music 0x6 0xffff
    music 0xc 0xffff
#ifdef REMOVE_THIS
    db 0x3 0xc 0x1 0x0 0x5f 0x0 0x95 0x0 0x0 0x0 0xff 0xff  ; Switch to world map
    db 0x16 0x4 0x0 0xff
    db 0x1b 0x8 0x5 0x6 0xff 0xff 0x20 0xff
    db 0x15 0x8 0x8 0x3 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x3b 0x4 0xff 0xff
    music 0x0 0x137
    set_repeat 0xa
    .Label_9:
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    repeat 0x1 .Label_9
    music 0xf 0x4
    db 0x1b 0x8 0x4 0x5 0xff 0xff 0x20 0xff
    set_repeat 0xa
    .Label_10:
    db 0x15 0x8 0x1 0x2 0x0 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    db 0x15 0x8 0x1 0x2 0x1 0x0 0x0 0x0
    db 0x3b 0x4 0xff 0xff
    repeat 0x1 .Label_10
    db 0x3b 0x4 0xff 0xff
    db 0x3f 0x4 0xff 0xff
    db 0x67 0x4 0x0 0xff
    db 0x3 0xc 0x1 0x0 0x5f 0x0 0x9d 0x0 0x0 0x0 0xff 0xff
    db 0x16 0x4 0x0 0xff
    db 0x1b 0x8 0x5 0x5 0xff 0xff 0x20 0xff
    db 0x9 0x4 0x8 0x0
    music 0x0 0x136
    db 0x23 0xc 0xff 0xff 0x78 0x0 0x54 0x0 0xb6 0x0 0x88 0x1
    db 0x9 0x4 0x10 0x1
    db 0x1b 0x8 0x0 0x8 0xff 0xff 0x20 0xff                     ; Fade in screen
    db 0x3 0xc 0x1 0x57 0x18 0x0 0x2c 0x0 0x1 0x0 0xff 0xff     ; Back in Dwarf Cave
#endif
    db 0x16 0x4 0x0 0xff
    music 0xd 0xffff
    music 0x4 0xc
    db 0x1b 0x8 0x5 0x6 0xff 0xff 0x20 0xff
    db 0x34 0x4 0xff 0xff
    db 0x12 0xc 0x0 0x0 0x2 0xff 0x19 0x0 0x2c 0x0 0xff 0xff
    db 0x1c 0x4 0x20 0x1
    npc_update 0x3 0xb
    npc_update 0x5 0xb
    db 0x45 0x8 0xb 0x3 0x1b 0x0 0x2c 0x0
    db 0x9 0x4 0x4 0x0
    db 0x20 0x4 0x20 0xff
    db 0x20 0x4 0xb 0xff
    db 0x15 0x8 0x1 0x0 0x2 0x0 0x0 0x0
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x2 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x15 0x8 0x9 0x0 0x0 0x0 0x0 0x0
    db 0xb 0xc 0x6 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x6 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x2 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x3 0x4 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x3 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0xb 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0x20 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x1f 0x4 0x20 0x0
    db 0x9 0x4 0x38 0x0
    take_item 0x5
    GIVE_REWARD
    music 0x5 0x2           ; Fade BGM (fast)
    music 0xa 0xffff        ; Wait for fade
    load_text top %text_id
    music 0x0 0x20          ; Play fanfare
    show_dialog
    music 0x9 0xffff        ; Wait for fanfare to finish
    close_dialog wait
    music 0x4 0x4           ; Resume BGM
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x2
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x6
    db 0x9 0x4 0x8 0x0
    db 0x1f 0x4 0xb 0x0
    db 0x9 0x4 0xc 0x0
    db 0x1f 0x4 0xb 0x8
    db 0x9 0x4 0x2 0x0
    db 0xb 0xc 0x1 0x4 0x1 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xc 0x0
    db 0xb 0xc 0x1 0x4 0x0 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x9 0x4 0xc 0x0
    db 0x9 0x4 0x32 0x0
    db 0x1f 0x4 0x20 0x6
    db 0x1f 0x4 0xb 0x4
    db 0x9 0x4 0x20 0x0
    db 0x9 0x4 0xa 0x0
    db 0x20 0x4 0xb 0xff
    db 0xb 0xc 0x7 0x3 0x3 0x0 0x0 0x0 0xb 0x0 0xff 0xff
    db 0x4 0x4 0xff 0xff
    db 0x14 0x4 0xb 0x0
    db 0x9 0x4 0x18 0x0
    remove_trigger 0x1393
    db 0x14 0x4 0x0 0x1
    db 0x26 0x4 0x3 0xff
    db 0x16 0x4 0x1 0xff
    end_event
"""


# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Map Events
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

cornelia_castle_1f_event = """
    check_flag 0x3 jz .Label_1
    remove_all 0x1392
    jump .Label_2
    .Label_1:
    check_flag 0x1 jz .Label_3
    jump .Label_2
    .Label_3:
    remove_all 0x1392
    .Label_2:
    check_flag %reward_flag jz .Label_4
    remove_all 0x13ad
    .Label_4:
    check_flag 0x9 jz .Label_5
    remove_trigger 0x1f4a
    remove_trigger 0x1f4a
    remove_all 0x23cd
    .Label_5:
    end_event
"""

cornelia_castle_2f_event = """
    remove_all 0x138c
    db 0x1f 0x4 0x2 0x0
    check_flag 0x1 jnz .Label_3
    remove_trigger 0x1f5d
    jump .Label_4
    .Label_3:
    check_flag %reward_flag jnz .Label_4
    set_npc_event 0x3 0x13a7
    db 0x2f 0x8 0xcb 0x13 0xff 0x14 0xa 0x8
    .Label_4:
    end_event
"""

pravoka_init_event = """
    check_flag %reward_flag jz .Label_1
    remove_all 0x1fca
    jump .Label_2
    .Label_1:
    set_npc_event 0x2 0x13b5
    npc_update 0x2 0x3
    npc_update 0x4 0x3
    npc_update 0x2 0x4
    npc_update 0x4 0x4
    npc_update 0x2 0x5
    npc_update 0x4 0x5
    npc_update 0x2 0x6
    npc_update 0x4 0x6
    npc_update 0x2 0x7
    npc_update 0x4 0x7
    db 0x2f 0x8 0x0 0x0 0xff 0xc 0xc 0x8
    db 0x2f 0x8 0x0 0x0 0xff 0xe 0xc 0x8
    .Label_2:
    end_event
"""

marsh_cave_b3_init = """
    check_flag %reward_flag jz .Label_1
    remove_all 0x1398
    .Label_1:
    check_flag 0x9 jz .Label_2
    remove_all 0x1f4a
    .Label_2:
    end_event
"""

mt_duergar_init = """
    check_flag %reward_flag jnz .Label_1
    music 0x0 0x85
    db 0x2f 0x8 0x0 0x0 0xff 0x16 0x2a 0x8
    jump .Label_2
    .Label_1:
    check_flag 0xb jz .Label_2
    npc_update 0x2 0xb
    npc_update 0x4 0xb
    .Label_2:
    check_flag 0xa jz .Label_3
    set_npc_event 0xb 0x1393
    .Label_3:
    check_flag 0x9 jz .Label_4
    remove_trigger 0x1f4a
    .Label_4:
    check_flag 0x23 jz .Label_5
    jump .Label_6
    .Label_5:
    check_flag 0x21 jz .Label_6
    set_npc_event 0x4 0x139d
    .Label_6:
    end_event
"""

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
#
# Key Item Reward snippets
#
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

bridge_reward = """
%text_id 0x127
%reward_flag 0x03

#define GIVE_REWARD set_flag %reward_flag
"""

lute_reward = """
%text_id 0x10a
%reward_flag 0x04

#define GIVE_REWARD \\
    give_item 0x0 \\
    set_flag %reward_flag
"""

ship_reward = """
%text_id 0x224
%reward_flag 0x05

#define GIVE_REWARD set_flag %reward_flag
"""

crown_reward = """
%text_id 0x10b
%reward_flag 0x06

#define GIVE_REWARD \\
    give_item 0x01 \\
    set_flag %reward_flag
"""

crystal_reward = """
%text_id 0x1f3
%reward_flag 0x07

#define GIVE_REWARD \\
    give_item 0x02 \\
    set_flag %reward_flag
"""

jolt_tonic_reward = """
%text_id 0x216
%reward_flag 0x08

#define GIVE_REWARD \\
    give_item 0x03 \\
    set_flag %reward_flag
"""

key_reward = """
%text_id 0x154
%reward_flag 0x09

#define GIVE_REWARD \\
    give_item 0x04 \\
    set_flag %reward_flag \\
    remove_all 0x1f4a               ; Unlock all Mystic Key locked doors on the map
"""

nitro_powder_reward = """
%text_id 0x128
%reward_flag 0x0A

#define GIVE_REWARD \\
    give_item 0x05 \\
    set_flag %reward_flag
"""

canal_reward = """
%text_id 0x1e8
%reward_flag 0x0B

#define GIVE_REWARD set_flag %reward_flag
"""

ruby_reward = """
%text_id 0x142
%reward_flag 0x0D

#define GIVE_REWARD \\
    give_item 0x08 \\
    set_flag %reward_flag
"""

rod_reward = """
%text_id 0x21a
%reward_flag 0x0F

#define GIVE_REWARD \\
    give_item 0x09 \\
    set_flag %reward_flag
"""

canoe_reward = """
%text_id 0x1b1
%reward_flag 0x12

#define GIVE_REWARD \\
    give_item 0x10 \\
    set_flag %reward_flag
"""

levistone_reward = """
%text_id 0x10c
%reward_flag 0x14

#define GIVE_REWARD \\
    give_item 0x0a \\
    set_flag %reward_flag
"""

tail_reward = """
%text_id 0x10d
%reward_flag 0x17

#define GIVE_REWARD \\
    give_item 0x0c \\
    set_flag %reward_flag
"""

class_change_reward = """
%text_id 0x1d2
%reward_flag 0x18

#define GIVE_REWARD set_flag %reward_flag 
"""

bottle_reward = """
%text_id 0x1bf
%reward_flag 0x19

#define GIVE_REWARD \\
    give_item 0x0e \\
    set_flag %reward_flag
"""

oxyale_reward = """
%text_id 0x1c0
%reward_flag 0x1a

#define GIVE_REWARD \\
    give_item 0x0f \\
    set_flag %reward_flag
"""

slab_reward = """
%text_id 0x10e
%reward_flag 0x1c

#define GIVE_REWARD \\
    give_item 0x07 \\
    set_flag %reward_flag
"""

lufienish_reward = """
%text_id 0x235
%reward_flag 0x1e

#define GIVE_REWARD set_flag %reward_flag 
"""

chime_reward = """
%text_id 0x240
%reward_flag 0x1f

#define GIVE_REWARD \\
    give_item 0x0b \\
    set_flag %reward_flag
"""

cube_reward = """
%text_id 0x241
%reward_flag 0x20

#define GIVE_REWARD \\
    give_item 0x0d \\
    set_flag %reward_flag
"""

adamant_reward = """
%text_id 0x10f
%reward_flag 0x21

#define GIVE_REWARD \\
    give_item 0x06 \\
    set_flag %reward_flag
"""

excalibur_reward = """
%text_id 0x1ed
%reward_flag 0x23

#define GIVE_REWARD \\
    give_item 0x11 \\
    set_flag %reward_flag
"""
